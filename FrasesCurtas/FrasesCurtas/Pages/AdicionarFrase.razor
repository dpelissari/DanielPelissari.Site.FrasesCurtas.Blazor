@page "/adicionar-frase/";

@using FrasesCurtas.Models;
@inject NavigationManager NavigationManager;
@inject FrasesCurtas.Services.IFraseService FraseService;

<h3>AdicionarFrase</h3>

<EditForm Model="frase" OnValidSubmit="CriarFrase">
    <div class="form-group mb-3">
        <label for="descricaoFrase">Frase</label>
        <InputText @bind-Value="frase.Descricao" class="form-control" id="descricaoFrase"></InputText>
    </div>
    <div class="form-group mb-3">
        <label for="dataCadastroFrase">Data Cadastro</label>
        <InputText @bind-Value="frase.DataCadastro" class="form-control" id="dataCadastroFrase"></InputText>
    </div>
    <div class="form-group mb-3">
        <label for="arquivadaFrase">Arquvida</label>
        <InputText @bind-Value="frase.Arquivada" class="form-control" id="arquivadaFrase"></InputText>
    </div>

    <DataAnnotationsValidator />
    <ValidationSummary />

    <button class="btn btn-success" type="submit">Incluir</button>
</EditForm>

@code {
    Frase frase = new();

    async Task CriarFrase() {
        frase.GerarNovoId();
        await FraseService.Adicionar(frase);
        NavigationManager.NavigateTo("/frases");
    }
}
